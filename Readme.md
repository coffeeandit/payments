#### Transação com Sucesso.

curl --location 'http://localhost:8080/pagamentos' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJDbU9rcWFsd1Q3SnJjVTA5X2ljVkpaQmxOQVpxc3lYUmh4cGFmanAyS3hJIn0.eyJleHAiOjE2OTE0MjM4NjksImlhdCI6MTY5MTQyMjA2OSwianRpIjoiMWFhMzU2ZTYtYjA4ZC00NWI3LWFhYjItODZlMjJkNDZmZTJlIiwiaXNzIjoiaHR0cHM6Ly9rZXljbG9hay5jb2ZmZWVhbmRpdC5jb20uYnIvYXV0aC9yZWFsbXMvbWFzdGVyIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjE5YjFmMmQzLWViNWMtNGEzOC1hODFhLWE2NGY5YTk5OGQ2NSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImNvZmZlZWFuZGl0Iiwic2Vzc2lvbl9zdGF0ZSI6IjdkOGI4MDBhLTZkOTctNDhkNC04ZTliLTJiNjYwMzZjNjEwNiIsImFjciI6IjEiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsib2ZmbGluZV9hY2Nlc3MiLCJjb2ZmZWVhbmRpdC10cmFuc2FjdGlvbiIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBDb2ZmZWVBbmRJVFJvbGUgY29mZmVlYW5kaXQgZW1haWwiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImNvbnRhIjoiNzg1OTIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJjb2ZmZWVhbmRpdCIsImFnZW5jaWEiOiIyMDkiLCJlbWFpbCI6ImNvZmZlZWFuZGl0QGNvZmZlZWFuZGl0LmNvbS5iciJ9.f9cD8U37cg_k2Vbw1FFlH_sfBfnbovmOICLtkyTxbD9FS9jT64Abuf7UT3KNrYUyhPSx4y7AxqZI4y-2fRTn3OzH5Xa63XAVzznqWy96NpZGyaEGdV7o6pGKDoTcdVCgaroUtfo9TkYqw6ej92fxZmRg3moUuy2Ua1rdlgW2Ehqn1lN9D2Md2_25iJOTC20_6a_CQYHMw40cV-TY8aa9pzxUnS1uk7FnwwncybZ0yYnbxYcy0W6HFW9QbS7AZr4CGO0x4KxVBlD54kZOkMVIZu9hqwaaipzNgtP4DxGJM4q9kUsG7367gcwN7LjzC4v0l6riP6ht3xvrLhUO_Y66Uw' \
--data '{
"valor" : 64900,
"cartao": {
"numero" : "4242424242424242",
"mesExpiracao" : 12,
"anoExpiracao" : 2028,
"cvc" : "763"
},
"descricao" : "Maravilhosos cursos da CoffeeAndIT"
}'

#### Transação sem Fundos

curl --location 'http://localhost:8080/pagamentos' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJDbU9rcWFsd1Q3SnJjVTA5X2ljVkpaQmxOQVpxc3lYUmh4cGFmanAyS3hJIn0.eyJleHAiOjE2OTE0MjM4NjksImlhdCI6MTY5MTQyMjA2OSwianRpIjoiMWFhMzU2ZTYtYjA4ZC00NWI3LWFhYjItODZlMjJkNDZmZTJlIiwiaXNzIjoiaHR0cHM6Ly9rZXljbG9hay5jb2ZmZWVhbmRpdC5jb20uYnIvYXV0aC9yZWFsbXMvbWFzdGVyIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjE5YjFmMmQzLWViNWMtNGEzOC1hODFhLWE2NGY5YTk5OGQ2NSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImNvZmZlZWFuZGl0Iiwic2Vzc2lvbl9zdGF0ZSI6IjdkOGI4MDBhLTZkOTctNDhkNC04ZTliLTJiNjYwMzZjNjEwNiIsImFjciI6IjEiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsib2ZmbGluZV9hY2Nlc3MiLCJjb2ZmZWVhbmRpdC10cmFuc2FjdGlvbiIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBDb2ZmZWVBbmRJVFJvbGUgY29mZmVlYW5kaXQgZW1haWwiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImNvbnRhIjoiNzg1OTIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJjb2ZmZWVhbmRpdCIsImFnZW5jaWEiOiIyMDkiLCJlbWFpbCI6ImNvZmZlZWFuZGl0QGNvZmZlZWFuZGl0LmNvbS5iciJ9.f9cD8U37cg_k2Vbw1FFlH_sfBfnbovmOICLtkyTxbD9FS9jT64Abuf7UT3KNrYUyhPSx4y7AxqZI4y-2fRTn3OzH5Xa63XAVzznqWy96NpZGyaEGdV7o6pGKDoTcdVCgaroUtfo9TkYqw6ej92fxZmRg3moUuy2Ua1rdlgW2Ehqn1lN9D2Md2_25iJOTC20_6a_CQYHMw40cV-TY8aa9pzxUnS1uk7FnwwncybZ0yYnbxYcy0W6HFW9QbS7AZr4CGO0x4KxVBlD54kZOkMVIZu9hqwaaipzNgtP4DxGJM4q9kUsG7367gcwN7LjzC4v0l6riP6ht3xvrLhUO_Y66Uw' \
--data '{
"valor" : 64900,
"cartao": {
"numero" : "4000000000009995",
"mesExpiracao" : 12,
"anoExpiracao" : 2028,
"cvc" : "763"
},
"descricao" : "Maravilhosos cursos da CoffeeAndIT"
}'

#### Transação sem Autenticação

curl --location 'http://localhost:8080/pagamentos' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJDbU9rcWFsd1Q3SnJjVTA5X2ljVkpaQmxOQVpxc3lYUmh4cGFmanAyS3hJIn0.eyJleHAiOjE2OTE0MjM4NjksImlhdCI6MTY5MTQyMjA2OSwianRpIjoiMWFhMzU2ZTYtYjA4ZC00NWI3LWFhYjItODZlMjJkNDZmZTJlIiwiaXNzIjoiaHR0cHM6Ly9rZXljbG9hay5jb2ZmZWVhbmRpdC5jb20uYnIvYXV0aC9yZWFsbXMvbWFzdGVyIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjE5YjFmMmQzLWViNWMtNGEzOC1hODFhLWE2NGY5YTk5OGQ2NSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImNvZmZlZWFuZGl0Iiwic2Vzc2lvbl9zdGF0ZSI6IjdkOGI4MDBhLTZkOTctNDhkNC04ZTliLTJiNjYwMzZjNjEwNiIsImFjciI6IjEiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsib2ZmbGluZV9hY2Nlc3MiLCJjb2ZmZWVhbmRpdC10cmFuc2FjdGlvbiIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBDb2ZmZWVBbmRJVFJvbGUgY29mZmVlYW5kaXQgZW1haWwiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImNvbnRhIjoiNzg1OTIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJjb2ZmZWVhbmRpdCIsImFnZW5jaWEiOiIyMDkiLCJlbWFpbCI6ImNvZmZlZWFuZGl0QGNvZmZlZWFuZGl0LmNvbS5iciJ9.f9cD8U37cg_k2Vbw1FFlH_sfBfnbovmOICLtkyTxbD9FS9jT64Abuf7UT3KNrYUyhPSx4y7AxqZI4y-2fRTn3OzH5Xa63XAVzznqWy96NpZGyaEGdV7o6pGKDoTcdVCgaroUtfo9TkYqw6ej92fxZmRg3moUuy2Ua1rdlgW2Ehqn1lN9D2Md2_25iJOTC20_6a_CQYHMw40cV-TY8aa9pzxUnS1uk7FnwwncybZ0yYnbxYcy0W6HFW9QbS7AZr4CGO0x4KxVBlD54kZOkMVIZu9hqwaaipzNgtP4DxGJM4q9kUsG7367gcwN7LjzC4v0l6riP6ht3xvrLhUO_Y66Uw' \
--data '{
"valor" : 64900,
"cartao": {
"numero" : "4000002500003155",
"mesExpiracao" : 12,
"anoExpiracao" : 2028,
"cvc" : "763"
},
"descricao" : "Maravilhosos cursos da CoffeeAndIT"
}'

### Gerando o token JWT

curl --location --request POST 'https://keycloak.coffeeandit.com.br/auth/realms/master/protocol/openid-connect/token' \
--header 'Content-Type: application/x-www-form-urlencoded' \
--header 'Content-Type: application/x-www-form-urlencoded' \
--data-urlencode 'password=n_BQ6KgdGb4~MFwJ' \
--data-urlencode 'grant_type=password' \
--data-urlencode 'client_id=coffeeandit' \
--data-urlencode 'scope=openid' \
--data-urlencode 'username=coffeeandit'



#### Recuperar um pagamento

curl --location 'http://localhost:8080/pagamentos/ch_3NcVpIAHErJ68yHv1xRbnwSZ' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJDbU9rcWFsd1Q3SnJjVTA5X2ljVkpaQmxOQVpxc3lYUmh4cGFmanAyS3hJIn0.eyJleHAiOjE2OTE0MjU3NjQsImlhdCI6MTY5MTQyMzk2NCwianRpIjoiMzVkNTEwMzktNTU1Yy00NTQ3LThhNzYtNzZmYjg4Yjk3YjNiIiwiaXNzIjoiaHR0cHM6Ly9rZXljbG9hay5jb2ZmZWVhbmRpdC5jb20uYnIvYXV0aC9yZWFsbXMvbWFzdGVyIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjE5YjFmMmQzLWViNWMtNGEzOC1hODFhLWE2NGY5YTk5OGQ2NSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImNvZmZlZWFuZGl0Iiwic2Vzc2lvbl9zdGF0ZSI6ImIyMjI5YTdhLWFhODYtNGQ5OC05YzVkLWJhNmQ4NmU5OWU4NiIsImFjciI6IjEiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsib2ZmbGluZV9hY2Nlc3MiLCJjb2ZmZWVhbmRpdC10cmFuc2FjdGlvbiIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBDb2ZmZWVBbmRJVFJvbGUgY29mZmVlYW5kaXQgZW1haWwiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImNvbnRhIjoiNzg1OTIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJjb2ZmZWVhbmRpdCIsImFnZW5jaWEiOiIyMDkiLCJlbWFpbCI6ImNvZmZlZWFuZGl0QGNvZmZlZWFuZGl0LmNvbS5iciJ9.X_YF8qTqbz5RaBj98xZI9_IrWLCvzWZ2_QgZBNyYMpfz1nMXY5E6cIdk3a-XXDlRzsaP9BuYEs1HLJW3DuwD2U-60rPVjHnVgmJ8fXrHIdq3bAvLiW0R-EVmxWYBsTEFCSqlmPFpc3VVYeGIwNYay1g3CU1fIzojH-bhvL3LypaZkqZBpzKfgMvH9D4QmHYohdgpI7teeLqlZ5SL64tICzwKMFKJrdwXDS35Ic8tXRnim-RlWJ25A_656tz1Ib4xYWCcTlm-OdkY6Xsd1XJTMsV0BcHCAMUtv8ZOjVkN2X3tWg7OmYXj07VhsWuvu_9peveatVp_RhEstA01E7b1qA'

#### Kube Config

aws eks update-kubeconfig --region us-east-2 --name coffeeandit-eks-w72gYzeX --kubeconfig /Users/cleber/.kube/config-aws


alias pbcopy="xclip -sel clip"
Alterar o KUBE_CONFIG de client.authentication.k8s.io/v1alpha1 para client.authentication.k8s.io/v1beta1
KUBE_CONFIG_DATA: A base64 representation of ~/.kube/config file. cat ~/.kube/config-aws | base64 | pbcopy # pbcopy will copy the secret to the clipboard (Mac OSX only)
AWS_ACCESS_KEY_ID: AWS_ACCESS_KEY_ID of a IAM user with permissions to access the cluster. AWS_SECRET_ACCESS_KEY: AWS_SECRET_ACCESS_KEY of a IAM user with permissions to access the cluster.
REPO_NAME - coffeeandit-ci
